<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Overkill - Limpeza de Duplicados"
        Height="780" Width="550"
        Background="#1E1E1E"
        Foreground="#F1F1F1"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResizeWithGrip">

    <Window.Resources>
        <SolidColorBrush x:Key="BgDark" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="BgPanel" Color="#252526"/>
        <SolidColorBrush x:Key="ControlNormal" Color="#333337"/>
        <SolidColorBrush x:Key="BorderNormal" Color="#434346"/>
        <SolidColorBrush x:Key="AccentColor" Color="#E04F5F"/>
        <SolidColorBrush x:Key="SelectionColor" Color="#007ACC"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#F1F1F1"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#AAAAAA"/>

        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>

        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>
        
        <Style TargetType="RadioButton">
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Background" Value="{StaticResource ControlNormal}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderNormal}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="3">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="BaseBtn">
            <Setter Property="Background" Value="{StaticResource ControlNormal}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderNormal}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#3E3E42"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="ActionBtn" BasedOn="{StaticResource BaseBtn}">
            <Setter Property="Background" Value="{StaticResource AccentColor}"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentColor}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF6B7A"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style TargetType="TextBlock" x:Key="SectionHeader">
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Margin" Value="0,15,0,5"/>
        </Style>

    </Window.Resources>

    <Grid Background="{StaticResource BgDark}" Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <RowDefinition Height="*"/>    <RowDefinition Height="Auto"/> </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="0,0,0,10">
            <TextBlock Text="Overkill Revit" FontSize="20" FontWeight="Bold" Foreground="#E04F5F"/>
            <TextBlock Text="Limpeza de elementos duplicados e sobrepostos" FontSize="12" Foreground="{StaticResource TextSecondary}"/>
            <Separator Background="#3E3E42" Margin="0,10"/>
        </StackPanel>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                
                <TextBlock Text="ESCOPO DA ANÁLISE" Style="{StaticResource SectionHeader}" Margin="0,0,0,5"/>
                <Border Background="{StaticResource BgPanel}" CornerRadius="4" Padding="10">
                    <StackPanel>
                        <RadioButton x:Name="scope_view_rb" Content="Apenas na Vista Ativa" IsChecked="True"/>
                        <RadioButton x:Name="scope_project_rb" Content="Todo o Projeto (Cuidado)"/>
                    </StackPanel>
                </Border>

                <TextBlock Text="CATEGORIAS ALVO" Style="{StaticResource SectionHeader}"/>
                <Border Background="{StaticResource BgPanel}" CornerRadius="4" Padding="10">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <Button x:Name="cat_all_btn" Content="Todas" FontSize="12" Padding="8,2" Margin="0,0,5,0" Style="{StaticResource BaseBtn}"/>
                            <Button x:Name="cat_none_btn" Content="Nenhuma" FontSize="12" Padding="8,2" Style="{StaticResource BaseBtn}"/>
                        </StackPanel>
                        <ListBox x:Name="categories_lb" Background="Transparent" BorderThickness="0" MaxHeight="200">
                            <ListBox.ItemContainerStyle>
                                <Style TargetType="ListBoxItem">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ListBoxItem">
                                                <ContentPresenter/>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListBox.ItemContainerStyle>
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <CheckBox Content="{Binding name}" IsChecked="{Binding is_checked}" Margin="0,2"/>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </StackPanel>
                </Border>

                <TextBlock Text="PRECISÃO (TOLERÂNCIAS EM MM)" Style="{StaticResource SectionHeader}"/>
                <Border Background="{StaticResource BgPanel}" CornerRadius="4" Padding="10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Curvas/Linhas:" Foreground="{StaticResource TextSecondary}" FontSize="10" Margin="0,0,0,2"/>
                            <TextBox x:Name="tol_curve_tb" Text="1.0" ToolTip="Distância mínima para considerar curvas sobrepostas."/>
                        </StackPanel>
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Pontos/Texto:" Foreground="{StaticResource TextSecondary}" FontSize="10" Margin="0,0,0,2"/>
                            <TextBox x:Name="tol_point_tb" Text="2.0" ToolTip="Distância para pontos ou inserção de texto."/>
                        </StackPanel>
                    </Grid>
                </Border>

                <TextBlock Text="MODO DE OPERAÇÃO" Style="{StaticResource SectionHeader}"/>
                <Border Background="{StaticResource BgPanel}" CornerRadius="4" Padding="10">
                    <StackPanel>
                        <RadioButton x:Name="mode_select_rb" Content="Apenas SELECIONAR duplicados" IsChecked="True" FontWeight="SemiBold" Foreground="{StaticResource SelectionColor}"/>
                        <TextBlock Text="Seguro. Permite revisar antes de deletar." FontSize="10" Foreground="{StaticResource TextSecondary}" Margin="20,0,0,5"/>
                        
                        <RadioButton x:Name="mode_delete_rb" Content="DELETAR duplicados imediatamente" FontWeight="SemiBold" Foreground="{StaticResource AccentColor}" Margin="0,8,0,0"/>
                        <TextBlock Text="Atenção: Ação destrutiva." FontSize="10" Foreground="{StaticResource TextSecondary}" Margin="20,0,0,0"/>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <Grid Grid.Row="2" Margin="0,15,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <Button x:Name="cancel_btn" Grid.Column="0" Content="Cancelar" Style="{StaticResource BaseBtn}" Width="100"/>
            <Button x:Name="run_btn" Grid.Column="2" Content="EXECUTAR LIMPEZA" Style="{StaticResource ActionBtn}" Width="150"/>
        </Grid>
    </Grid>
</Window>